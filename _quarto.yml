project:
  type: website
  output-dir: docs
  render:
    - index.qmd
    - programa.qmd
    - calendarizacion.qmd
    - clases.qmd
    - ayudantias.qmd
    - evaluaciones.qmd
    - bibliografia.qmd
    - informacion.qmd
    - ultima-informacion.qmd

website:
  favicon: resources/imagenes/logo.svg
  title: "Estadística Social I"
  site-url: https://apuntes-sociologia.me
  search: true
  page-navigation: true

  page-footer:
    left: |
      <div class="site-footer">
      <div class="footer-line"><i class="bi bi-c-circle"></i><span>Contenido © 2026 por <strong>Daniela Olivares</strong></span></div>
      <div class="footer-line"><i class="bi bi-cc-circle"></i><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">Licencia Creative Commons Attribution-NonCommercial 4.0 (CC BY-NC 4.0)</a></div>
      <div class="footer-line"><i class="bi bi-person-badge"></i><span>Sitio creado por <strong>Katherine Aravena</strong></span></div>
      </div>
    center: ""
    right: |
      <div class="site-footer">
      <div class="footer-line"><i class="bi bi-braces"></i><span>Hecho con <a href="https://quarto.org" target="_blank" rel="noopener">Quarto</a></span></div>
      <div class="footer-line"><i class="bi bi-github"></i><a href="https://github.com/KAravena/Estadistica-Social-FinisTerrae" target="_blank" rel="noopener">Ver el código en GitHub</a></div>
      </div>

  navbar:
    title: "Estadística Social I "
    left:
      - text: "Inicio"
        href: index.qmd
      - text: "Curso"
        menu:
          - text: "Programa"
            href: programa.qmd
          - text: "Calendarización"
            href: calendarizacion.qmd
          - text: "Evaluaciones"
            href: evaluaciones.qmd
          - text: "Bibliografía"
            href: bibliografia.qmd
      - text: "Clases"
        menu:
          - text: "Catedra"
            href: clases.qmd#catedra
          - text: "Ayudantías"
            href: ayudantias.qmd
      - text: "Información"
        href: informacion.qmd

    tools:
      - icon: github
        href: https://github.com/KAravena/Estadistica-Social-FinisTerrae
        aria-label: GitHub
      - text: "<i class='bi bi-moon-stars'></i>"
        href: "javascript:void(0)"
        aria-label: "Cambiar tema"

format:
  html:
    md-extensions: +raw_html+fenced_divs+link_attributes
    theme:
      light: cosmo
      dark: darkly
    css:
      - styles.css
    link-external-newwindow: false
    anchor-sections: true
    smooth-scroll: true
    code-copy: true

freeze: auto

include-in-header:
  - text: |
      <!-- Aplica el esquema guardado ANTES de cargar estilos (evita flash) -->
      <script>
      (function(){
        try{
          var saved = localStorage.getItem('quarto-color-scheme');
          if (saved === 'dark' || saved === 'light') {
            document.documentElement.setAttribute('data-bs-theme', saved);
          }
        }catch(e){}
      })();
      </script>
      <!-- Google Fonts -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&display=swap" rel="stylesheet">

include-after-body:
  - text: |
      <!-- Toggle claro/oscuro (usa Quarto si existe; si no, fallback manual) -->
      <script>
      (function() {
        function setScheme(scheme) {
          const html = document.documentElement;
          html.setAttribute('data-bs-theme', scheme);
          try { localStorage.setItem('quarto-color-scheme', scheme); } catch(e){}
        }
        function getScheme() {
          try { return localStorage.getItem('quarto-color-scheme'); } catch(e){ return null; }
        }
        // Aplica preferencia guardada si hubiese (por si entran sin recargar)
        const saved = getScheme();
        if (saved) { document.documentElement.setAttribute('data-bs-theme', saved); }

        document.addEventListener('DOMContentLoaded', function(){
          const triggers = document.querySelectorAll('.quarto-navbar-tools a[aria-label="Cambiar tema"]');
          triggers.forEach(function(a){
            a.addEventListener('click', function(e){
              e.preventDefault();
              if (window.quartoToggleColorScheme) {
                // Mecanismo nativo de Quarto (cambia light/dark y Bootstrap)
                window.quartoToggleColorScheme();
              } else {
                // Fallback: alterna atributo y guarda preferencia
                const html = document.documentElement;
                const current = html.getAttribute('data-bs-theme') || 'light';
                const next = current === 'dark' ? 'light' : 'dark';
                setScheme(next);
              }
            });
          });
        });
      })();
      </script>

